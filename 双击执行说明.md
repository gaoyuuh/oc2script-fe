# 双击执行脚本说明

## 🤔 为什么双击执行会失败？

### 原因分析

1. **环境变量不同**: GUI 环境的 PATH 变量不包含 Node.js 路径
2. **工作目录不同**: 双击执行时工作目录可能不正确
3. **命令找不到**: `npm` 和 `node` 命令在 GUI 环境下找不到

## ✅ 解决方案

### 方案一：使用改进的脚本（推荐）

我已经修改了 `start-all.sh` 和 `stop-all.sh`，现在支持双击执行：

**改进内容**：

- ✅ 自动设置正确的工作目录
- ✅ 添加常见的 Node.js 安装路径到 PATH
- ✅ 检查必要命令是否存在
- ✅ 提供友好的错误提示

### 方案二：通过终端应用打开（备选）

如果双击仍然有问题，可以：

1. **右键脚本** → **打开方式** → **终端**
2. 或在终端中运行：`./start-all.sh`

### 方案三：创建 macOS 应用（高级）

可以使用 Automator 创建一个 `.app` 应用：

1. 打开 **Automator**
2. 选择 **应用程序**
3. 添加 **运行Shell脚本** 操作
4. 输入脚本路径：`/path/to/your/start-all.sh`
5. 保存为 `启动oc2script.app`

## 🔧 常见问题排查

### 问题1: "找不到命令 'node'"

**解决**：确保 Node.js 已正确安装

```bash
# 检查 Node.js 安装
which node
which npm

# 如果没有安装，使用 Homebrew 安装
brew install node
```

### 问题2: "找不到命令 'npm'"

**解决**：重新安装 Node.js 或修复 npm

```bash
# 重新安装 npm
curl -L https://www.npmjs.com/install.sh | sh
```

### 问题3: 权限问题

**解决**：确保脚本有执行权限

```bash
chmod +x start-all.sh
chmod +x stop-all.sh
```

## 🎯 推荐使用方式

**优先级排序**：

1. 🥇 **终端执行**: `./start-all.sh` （最可靠）
2. 🥈 **双击执行**: 使用改进后的脚本
3. 🥉 **Automator应用**: 适合经常使用的情况

## 📋 验证方法

运行脚本后检查输出：

- ✅ 看到 "📁 工作目录: ..."
- ✅ 看到 "📡 检测到本机IP地址: ..."
- ✅ 看到 "✅ 服务启动完成！"

如果看到错误提示，按照提示信息进行处理。
